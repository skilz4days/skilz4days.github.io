<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>Slide 1</title>
</head>

<body>
    <script>
        // set first and last slide numbers
        var minSlide = 1;
        var maxSlide = 5;
        // initialize fields used
        var currentSlide = 1;
        var currentTitle = "Page 1";
        var borderOn = 0; // 0 is off, 1 is on
        var slideNote = "";
        // initialize our first slide state by replacing current state
        var stateObj = { slide: currentSlide, border: borderOn, note: slideNote };
        history.replaceState(stateObj, currentTitle, '?slide=' + currentSlide);
        // history pop state handler
        window.onpopstate = function (event) {
            // show the location URL and string display of the event.state
            document.getElementById('stateInfo').innerHTML = "location: " + document.location + "<br>state: " + JSON.stringify(event.state);
            // retrieve state object data
            currentSlide = event.state.slide;
            borderOn = event.state.border;
            slideNote = event.state.note;
            // show the current slide
            showSlide();
        }
        // navigate to the next slide
        function nextSlide() {
            // check if the History API is available
            if (typeof history.pushState !== "undefined") {
                // validate that we are not at the end of the presentation
                if (currentSlide < maxSlide) {
                    // retrieve any notes that have been entered
                    slideNote = document.getElementById('txtNote').value;
                    // set the state object with the current options
                    var currentStateObj = { slide: currentSlide, border: borderOn, note: slideNote
                };
                // replace the current slide properties in the current history entry
                history.replaceState(currentStateObj, 'Slide ' + currentSlide + ' ' + slideNote, "?slide=" + currentSlide);
                // increment the current slide index
                currentSlide++;
                // set global variables to next slide and reset to defaults
                borderOn = 0;
                slideNote = "";
                document.getElementById('stateInfo').innerHTML = "";
                // set next slide in history entries with state object and defaults
                var nextStateObj = { slide: currentSlide, border: borderOn, note: slideNote
            };
            history.pushState(nextStateObj, 'Slide ' + currentSlide, "?slide=" + currentSlide);
            // show the now current slide
            showSlide();
        }
} else {
            // History API is not available
            alert('The History API is not available in this browser.');
        }
}
        // navigate to previous slide
        function prevSlide() {
            // validate that we are not at the beginning already
            if (currentSlide > minSlide) {
                // move back one step in history
                history.back();
            }
        }
        // show the current slide, title, and options
        function showSlide() {
            // set the current slide and title
            document.getElementById('imgSlide').src = "images/slide" + currentSlide + ".jpg";
            document.getElementById('slideInfo').innerHTML = "Slide " + currentSlide;
            // set the current page title
            document.title = "Slide " + currentSlide;
            // set the current slide options
            if (borderOn == 1) {
                document.getElementById('imgSlide').style.border = "5px solid #000000";
                document.getElementById('chkBorder').checked = 1;
            } else {
                document.getElementById('imgSlide').style.border = "";
                document.getElementById('chkBorder').checked = 0;
            }
            document.getElementById('txtNote').value = slideNote;
        }
        // handle the change of the image border option
        function setImgBorder() {
            // set border based on checkbox and global property
            if (document.getElementById('chkBorder').checked == 1) {
                document.getElementById('imgSlide').style.border = "5px solid #000000";
                borderOn = 1;
            } else {
                document.getElementById('imgSlide').style.border = "";
                borderOn = 0;
            }
        }
    </script>
    <!-- slide image and title -->
    <div id='slide' style='height:100px;'><img id='imgSlide' âž¥src="images/slide1.jpg"></div>
    <div id='slideInfo'>Slide 1</div>
    <!-- slide options -->
    <input type="checkbox" id="chkBorder" onChange="setImgBorder();">Border<br> Note: <input type="text" id="txtNote" value=""><br>
    <!-- slide navigation buttons -->
    <input type="button" onclick="prevSlide();" value="Previous Slide" />
    <input type="button" onclick="nextSlide();" value="Next Slide" />
    <!-- history state display area -->
    <div id='stateInfo'></div>
</body>

</html>